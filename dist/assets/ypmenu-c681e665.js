import{a as v,r as L,w as m,o as x,d as i,e as g,F as _,q as k,p as E,v as O,y as V}from"./index-169137c2.js";import w from"./menuItem-49209835.js";const F={__name:"ypmenu",props:{dataList:{default:{}},modelValue:{default:""},value:{default:""}},emits:["update:modelValue"],setup(o,{emit:y}){const s=o,u=y,c=v(""),f=v(null),n=L([]),h=e=>{e.forEach(a=>{n.indexOf(a.id)>=0&&n.splice(n.indexOf(a.id),1),a.children&&a.children.length>0&&h(a.children)})},p=(e,a)=>{a.forEach(l=>{e==l.id?(n.splice(n.indexOf(e),1),l.children&&l.children.length>0&&h(l.children)):l.children&&l.children.length>0&&p(e,l.children)})};E("menu-switch",{opens:n,chitem:c,toggle:e=>{n.indexOf(e)>=0?p(e,s.dataList):n.push(e)},selected:e=>{c.value=e,console.log(f.value.scrollWidth,"w",e),u("update:modelValue",e)},noselect:e=>{V({type:"alter-error",text:e})}});const r=(e,a)=>{e&&a&&a.forEach(l=>{let t=!0;l.id==e&&(c.value=l,u("update:modelValue",l),l.pid&&d(l.pid,s.dataList),t=!1),l.children&&t&&r(e,l.children)})},d=(e,a)=>{e&&a.forEach(l=>{let t=!0;l.id==e&&(n.push(e),d(l.pid,s.dataList),t=!1),l.children&&t&&d(e,l.children)})};return m(s,e=>{r(e.value,e.dataList)}),x(()=>{r(s.value,s.dataList)}),(e,a)=>(i(),g("div",{class:"ypmenu",ref_key:"ypmenudom",ref:f},[(i(!0),g(_,null,k(o.dataList,(l,t)=>(i(),O(w,{list:l,key:t,leave:0},null,8,["list"]))),128))],512))}};export{F as default};
