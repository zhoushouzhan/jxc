import{a as t,w as g,o as b,d as r,e as m,i as c,t as L,K as B,n as p,f as C,a5 as N,b as T}from"./index-0f467f6d.js";const _={class:"flex-1 pl-2"},z={__name:"ypselect",props:{modelValue:"",itemList:Object,col:{default:[]},defaultTitle:{default:"--请选择--"}},emits:["update:modelValue"],setup(s,{emit:x}){const o=s,f=x,n=t(""),a=t(!1),i=t(o.defaultTitle),v=t(null),y=t(null),u=t(null),w=t(null),h=()=>{N(()=>{u.value.scrollWidth&&(v.value.style.width=u.value.scrollWidth+"px")})};g(n,(e,l)=>{i.value=e.title,console.log(e),f("update:modelValue",e.id+""),a.value=!1});const k=()=>{i.value=o.defaultTitle,f("update:modelValue",null)};return b(()=>{o.itemList&&o.itemList.forEach(e=>{e.id==o.modelValue&&(i.value=e.title)}),h()}),(e,l)=>{const V=T("ypmenu");return r(),m("div",{class:"group inline-block relative cursor-pointer w-full min-w-max",ref_key:"select",ref:y,onClick:l[1]||(l[1]=d=>a.value=!0),onMouseleave:l[2]||(l[2]=d=>a.value=!1)},[c("div",{class:"text-sm border flex items-center rounded h-8",style:{"white-space":"nowrap"},ref_key:"titleBox",ref:v},[c("div",_,L(i.value),1),s.modelValue?(r(),m("i",{key:0,class:"ri-close-circle-fill duration-300 mr-2 hover:text-hong-300",onClick:B(k,["stop"])})):(r(),m("i",{key:1,class:p(["ri-arrow-down-s-line duration-300 mr-2",{"-rotate-180":a.value}])},null,2))],512),c("div",{class:p(["overflow-hidden w-full max-h-0 duration-300 flex flex-col text-gray-800 bg-white rounded-sm absolute z-30 top-[31px]",{"max-h-[300px] overflow-y-auto":a.value}]),ref_key:"optionsNode",ref:u},[C(V,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=d=>n.value=d),dataList:s.itemList,value:s.modelValue,ref_key:"ypmenu_dom",ref:w},null,8,["modelValue","dataList","value"])],2)],544)}}};export{z as default};
