import{a as r,r as _,o as y,g,d as o,e as i,i as s,l as u,t as h,v as x,x as b,j as k}from"./index-ddd32adc.js";import V from"./index-d64c2acc.js";const w={class:"w-24 min-h-[90px] bg-gray-300 relative"},B=["src"],C={key:0,class:"absolute top-0 left-0 w-full h-full bg-gray-900 bg-opacity-50 z-50"},j={class:"flex justify-center"},D=s("i",{class:"ri-close-line ri-2x text-white"},null,-1),$=[D],U={__name:"ypthumb",props:{modelValue:{default:""}},emits:["update:modelValue"],setup(d,{emit:m}){const n=d,c=r("上传图片"),l=r(0),e=_({id:0,src:""}),p=m,f=t=>{e.src=t[0].filepath,e.id=t[0].id,l.value=0,p("update:modelValue",e.id)};return y(async()=>{if(n.modelValue){const t=await g("/files/details",{id:n.modelValue});t.code&&(e.src=t.data.filepath,c.value="更换图片")}}),(t,a)=>(o(),i("div",null,[s("div",w,[e.src?(o(),i("img",{key:0,src:e.src},null,8,B)):u("",!0),s("div",{class:"text-xs text-center absolute bottom-0 left-0 right-0 bg-black bg-opacity-40 py-1 text-white cursor-pointer",onClick:a[0]||(a[0]=v=>l.value=1)},h(c.value),1)]),l.value?(o(),i("div",C,[(o(),x(b(k(V)),{selnum:"1",isopen:"1",onUseFiles:f},null,32)),s("div",j,[s("div",{class:"w-9 h-9 bg-red-500 rounded-full flex justify-center items-center",onClick:a[1]||(a[1]=v=>l.value=0)},$)])])):u("",!0)]))}};export{U as default};
