import y from"./form-6b8f18f7.js";import L from"./View-0a9a12a6.js";import V from"./modcols-8568129f.js";import{s as B,a as u,o as T,b,d as c,e as v,f as z,h as m,i as t,n as M,k as E,F as f,q as F,t as d,v as x,x as H,l as q,g as G,z as I,E as R,y as S}from"./index-ddd32adc.js";import"./editcol-a80eb43b.js";const j={class:"flex items-center"},A=["innerHTML"],J=t("div",{class:"text-gray-400"},"模型用于存放数据",-1),K=t("div",{class:"flex-1"},null,-1),O=t("i",{class:"ri-add-line ri-lg pr-1"},null,-1),P={class:"yp-table-datalist text-hui-300"},Q=t("thead",null,[t("tr",null,[t("th",null,"序号"),t("th",null,"别名"),t("th",null,"表名"),t("th",null,"类型"),t("th",null,"操作")])],-1),U={class:"text-lan-300 font-bold"},W={class:"space-x-1"},X=["onClick"],Y=["onClick"],Z=["onClick"],tt=["onClick"],it={__name:"index",setup(et){const a=B(""),s=u(!1),o=u(""),p=u(""),i=u(""),r=async()=>{const l=await G("/mod/index");p.value=l.data},C=()=>{i.value="增加模型",o.value="",s.value=!0,a.value=y},k=l=>{i.value="编辑模型",a.value=y,o.value=l,s.value=!0},g=l=>{i.value="查看模型",o.value=l,s.value=!0,a.value=L},$=l=>{i.value="编辑字段",o.value=l,s.value=!0,a.value=V},D=l=>{I({text:"确定删除吗？"}).then(async()=>{const n=await R("/mod/delete",{id:l});n.code&&(S({type:"alter-success",text:n.msg}),r())}).catch(n=>{})};return T(()=>{r()}),(l,n)=>{const N=b("yplayout"),w=b("ypdialog");return c(),v(f,null,[z(N,null,{header:m(e=>[t("div",j,[t("i",{class:M(["ri-2x text-gray-500 ml-2",e.meta.icon||"ri-information-line"])},null,2),t("div",{class:"text-xl px-3",innerHTML:e.meta.title},null,8,A),J]),K,t("button",{class:"yp-button yp-button-blue rounded h-[33px]",type:"button",onClick:C},[O,E(" 增加 ")])]),list:m(()=>[t("table",P,[Q,t("tbody",null,[(c(!0),v(f,null,F(p.value,(e,h)=>(c(),v("tr",{key:h},[t("td",null,d(h+1),1),t("td",null,d(e.alias),1),t("td",U,d(e.name),1),t("td",null,d(e.type),1),t("td",null,[t("div",W,[t("button",{class:"btn",onClick:_=>g(e.id)},"查看",8,X),t("button",{class:"btn btn-lan",onClick:_=>k(e.name)},"编辑",8,Y),t("button",{class:"btn btn-zi",onClick:_=>$(e.name)},"字段",8,Z),t("button",{class:"btn btn-hong",onClick:_=>D(e.id)},"删除",8,tt)])])]))),128))])])]),_:1}),s.value?(c(),x(w,{key:0,width:"1200",title:i.value,mask:1,onClose:n[1]||(n[1]=e=>s.value=!1)},{default:m(()=>[(c(),x(H(a.value),{modName:o.value,onClose:n[0]||(n[0]=e=>s.value=!1),onGetDataList:r},null,40,["modName"]))]),_:1},8,["title"])):q("",!0)],64)}}};export{it as default};
