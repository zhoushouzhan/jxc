import y from"./form-50626571.js";import V from"./View-bdc4ef11.js";import B from"./modcols-03400a62.js";import{s as T,a as r,o as M,b as f,d as i,e as _,f as z,h as p,i as t,n as h,k as E,F as x,q as F,t as c,v as g,x as H,l as q,g as G,z as I,E as R,y as S}from"./index-169137c2.js";import"./editcol-2912f35c.js";const j={class:"flex items-center"},A=["innerHTML"],J=t("div",{class:"text-gray-400"},"模型用于存放数据",-1),K=t("div",{class:"flex-1"},null,-1),O=t("i",{class:"ri-add-line ri-lg pr-1"},null,-1),P={class:"bg-white"},Q=t("div",{class:"flex border-b bg-gray-100 leading-8 font-bold"},[t("div",{class:"text-center md:w-20 border-r w-8"},"序号"),t("div",{class:"md:w-32 pl-2 flex-1 md:flex-initial"},"别名"),t("div",{class:"md:w-32 pl-2 hidden md:block"},"表名"),t("div",{class:"md:w-32 pl-2 hidden md:block"},"类型"),t("div",{class:"flex-1 hidden md:block"}),t("div",{class:"w-40 text-center"},"操作")],-1),U={class:"text-center md:w-20 border-r w-8"},W={class:"md:w-32 pl-2 flex-1 md:flex-initial"},X={class:"md:w-32 pl-2 hidden md:block"},Y={class:"md:w-32 pl-2 hidden md:block"},Z={class:"flex-1 hidden md:block"},tt={class:"text-center space-x-2"},et=["onClick"],st=["onClick"],ot=["onClick"],at=["onClick"],ut={__name:"index",setup(nt){const n=T(""),a=r(!1),l=r(""),b=r(""),d=r(""),u=async()=>{const s=await G("/mod/index");b.value=s.data},k=()=>{d.value="增加模型",l.value="",a.value=!0,n.value=y},w=s=>{d.value="编辑模型",n.value=y,l.value=s,a.value=!0},C=s=>{d.value="查看模型",l.value=s,a.value=!0,n.value=V},$=s=>{d.value="编辑字段",l.value=s,a.value=!0,n.value=B},D=s=>{I({text:"确定删除吗？"}).then(async()=>{const o=await R("/mod/delete",{id:s});o.code&&(S({type:"alter-success",text:o.msg}),u())}).catch(o=>{})};return M(()=>{u()}),(s,o)=>{const N=f("yplayout"),L=f("ypdialog");return i(),_(x,null,[z(N,null,{header:p(e=>[t("div",j,[t("i",{class:h(["ri-2x text-gray-500 ml-2",e.meta.icon||"ri-information-line"])},null,2),t("div",{class:"text-xl px-3",innerHTML:e.meta.title},null,8,A),J]),K,t("button",{class:"yp-button yp-button-blue rounded h-[33px]",type:"button",onClick:k},[O,E(" 增加 ")])]),list:p(()=>[t("div",P,[Q,(i(!0),_(x,null,F(b.value,(e,m)=>(i(),_("div",{class:h(["flex hover:bg-gray-400 hover:text-white leading-10",m%2?"bg-gray-100":""]),key:m},[t("div",U,c(m+1),1),t("div",W,c(e.alias),1),t("div",X,c(e.name),1),t("div",Y,c(e.type),1),t("div",Z,c(e.formitem),1),t("div",tt,[t("button",{class:"yp-button yp-button-sm yp-button-green rounded",onClick:v=>C(e.id)},"查看",8,et),t("button",{class:"yp-button yp-button-sm rounded",onClick:v=>w(e.name)},"编辑",8,st),t("button",{class:"yp-button yp-button-sm yp-button-gray rounded",onClick:v=>$(e.name)},"字段",8,ot),t("button",{class:"yp-button yp-button-sm yp-button-red rounded",onClick:v=>D(e.id)},"删除",8,at)])],2))),128))])]),_:1}),a.value?(i(),g(L,{key:0,width:"1200",title:d.value,mask:1,onClose:o[1]||(o[1]=e=>a.value=!1)},{default:p(()=>[(i(),g(H(n.value),{modName:l.value,onClose:o[0]||(o[0]=e=>a.value=!1),onGetDataList:u},null,40,["modName"]))]),_:1},8,["title"])):q("",!0)],64)}}};export{ut as default};
