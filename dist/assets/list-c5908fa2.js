import L from"./add-b3d680f6.js";import j from"./edit-51aab5a3.js";import{r as B,a as b,w as N,b as T,d as n,v as V,h as v,i as e,n as _,e as a,k as p,F as A,q as D,t as x,l as E,L as F}from"./index-0f467f6d.js";const H={class:"flex items-center"},I=["innerHTML"],M=e("div",{class:"text-gray-400"},"主要用于一些选项、菜单、联动数据",-1),S=e("div",{class:"flex-1"},null,-1),q=e("i",{class:"ri-add-line ri-lg pr-1"},null,-1),z=e("i",{class:"ri-reply-line pl-1"},null,-1),G=e("div",{class:"flex border-b bg-gray-100 leading-8 font-bold"},[e("div",{class:"text-center md:w-20 border-r w-8"},"Id"),e("div",{class:"md:w-38 pl-2 flex-1 md:flex-initial"},"名称"),e("div",{class:"flex-1 hidden md:block"}),e("div",{class:"w-14 text-center px-2"},"操作")],-1),J={class:"text-center md:w-20 border-r w-8"},K=["onClick"],O={key:0,class:"ri-add-line pr-1"},P=e("div",{class:"flex-1 hidden md:block"},null,-1),Q={class:"text-center space-x-2 px-2"},R=["onClick"],U=e("i",{class:"ri-edit-box-line"},null,-1),W=[U],X=["onClick"],Y=e("i",{class:"ri-add-line"},null,-1),Z=[Y],tt=["onClick"],et=e("i",{class:"ri-delete-bin-4-line"},null,-1),st=[et],at={__name:"list",emits:["jumpCom"],setup(ot,{emit:f}){const{proxy:l}=F(),c=B([]),i=b(0),d=b(""),h=f,m=t=>{h("jumpCom",{to:L,item:t})},g=t=>{h("jumpCom",{to:j,item:t})},k=t=>{l.$Confirms({text:"确认删除吗？"}).then(()=>{l.$http.post("/classify/delete",{ids:t}).then(o=>{o.code?(l.$Alter({type:"alter-success",text:o.msg}),r()):l.$Alter({type:"alter-error",text:o.msg})})}).catch(o=>{})};N(i,t=>{t&&r()});const C=t=>{t.havesid&&(i.value=t.id,d.value=t.path)},w=()=>{let t=d.value.split(",");t=t.filter(o=>o&&o.trim()),i.value=t[t.length-1],t.pop(),d.value=t.toString()},r=async()=>{const t=await l.$http.get("/classify",{pid:i.value});t.code&&(c.length=0,t.data.forEach(o=>{c.push(o)}))};return r(),(t,o)=>{const $=T("yplayout");return n(),V($,null,{header:v(s=>[e("div",H,[e("i",{class:_(["ri-2x text-gray-500 ml-2",s.meta.icon||"ri-information-line"])},null,2),e("div",{class:"text-xl px-2",innerHTML:s.meta.title||"无限分类"},null,8,I),M]),S,i.value==0?(n(),a("button",{key:0,class:"yp-button rounded py-2",type:"button",onClick:m},[q,p(" 增加分类 ")])):(n(),a("button",{key:1,class:"yp-button yp-button-gray rounded py-2",type:"button",onClick:w},[p(" 返回 "),z]))]),list:v(()=>[G,(n(!0),a(A,null,D(c,(s,y)=>(n(),a("div",{class:_(["flex hover:bg-gray-200 leading-10",{"bg-gray-100":y%2}]),key:y},[e("div",J,x(s.id),1),e("div",{class:_(["md:w-38 pl-2 flex-1 flex md:flex-initial justify-between items-center",{"cursor-pointer":s.havesid}]),onClick:u=>C(s)},[s.havesid?(n(),a("i",O)):E("",!0),p(x(s.title),1)],10,K),P,e("div",Q,[e("button",{class:"yp-button yp-button-sm rounded",onClick:u=>g(s)},W,8,R),e("button",{class:"yp-button yp-button-sm yp-button-orange rounded",onClick:u=>m(s)},Z,8,X),e("button",{class:"yp-button yp-button-sm yp-button-red rounded",onClick:u=>k(s.id)},st,8,tt)])],2))),128))]),_:1})}}};export{at as default};
