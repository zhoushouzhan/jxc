import{a as $,r as _,o as z,b as i,d,v as y,h as b,e as u,i as e,f as a,F as x,q as w,l as k,k as U,g as v,E as G,y as H}from"./index-ddd32adc.js";import I from"./sclass-4b760275.js";const J=e("div",{class:"flex items-center"},[e("i",{class:"ri-2x text-gray-500 ml-2 ri-product-hunt-line"}),e("div",{class:"text-xl px-2"},"录入商品"),e("div",{class:"text-gray-400"})],-1),K=e("div",{class:"flex-1"},null,-1),P={key:0,class:"bg-white text-sm"},Q={class:"space-y-7 p-2"},R={class:"flex items-center"},S=e("div",{class:"w-24 text-right pr-5"},"选择栏目",-1),W={class:"flex-1"},X={class:"flex items-center"},Y=e("div",{class:"w-24 text-right pr-5"},"厂商",-1),Z={class:"flex-1"},ee={class:"flex items-center"},te=e("div",{class:"w-24 text-right pr-5"},"商品名称",-1),se={class:"flex-1"},le={class:"flex items-center"},oe=e("div",{class:"w-24 text-right pr-5"},"贵重金属",-1),ae={class:"grid grid-cols-10 gap-5"},ie={class:"flex"},de=e("div",{class:"w-24 text-right pr-5"},"镶嵌宝石",-1),ne={class:"grid grid-cols-10 gap-5"},ce={class:"flex items-center"},re=e("div",{class:"w-24 text-right pr-5"},"商品图片",-1),ue={class:"flex-1"},pe={class:"flex items-center"},me=e("div",{class:"w-24 text-right pr-5"},"零售价格",-1),_e={class:"flex-1"},ye={class:"flex items-center"},xe=e("div",{class:"w-24 text-right pr-5"},"商品编码",-1),ve={class:"flex-1"},fe={class:"flex items-center"},ge=e("div",{class:"w-24 text-right pr-5"},"商品标签",-1),he={class:"flex-1"},Ve={class:"flex items-center"},be=e("div",{class:"w-24 text-right pr-5"},"备注",-1),we={class:"flex-1"},ke=e("div",{class:"w-24"},null,-1),Ue=e("i",{class:"ri-save-line ri-lg pr-1"},null,-1),je=e("i",{class:"ri-arrow-go-back-line ri-lg pr-1"},null,-1),Ne={__name:"form",props:{id:{default:0}},emits:["jumpTo"],setup(j,{emit:B}){const p=j,C=B,f=$(!1),g=_([]),h=_([]),n=new Audio,s=_({id:0,title:"",category_id:0,metal:[],stone:[],thumb:0,storeprice:0,code:"",label:"",intro:"",category:""}),N=()=>{C("jumpTo",{to:"list"})},D=async()=>{const o=await v("/classify/index",{pid:3427});o.code==1&&Object.keys(o.data).map(t=>{g[t]=o.data[t]})},L=async()=>{const o=await v("/classify/index",{pid:3428});o.code==1&&Object.keys(o.data).map(t=>{h[t]=o.data[t]})},O=async()=>{if(s.category_id==0){n.src="/error.mp3",await n.play(),alert("必须选择栏目22");return}const o=await G("goods/save",s);if(o.code==1){n.src="/success.mp3",await n.play(),H({type:"alter-success",text:o.msg});for(let t in s)delete s[t]}},T=async o=>{if(!o)return;let t=await v("goods/details",{id:o});t.code==1&&Object.keys(t.data).map(c=>{s[c]=t.data[c]})};return z(async()=>{D(),L(),s.id=p.id,p.id&&await T(p.id),f.value=!0}),(o,t)=>{const c=i("Linkage"),E=i("yplist"),r=i("ypinput"),V=i("ypcheckbox"),F=i("ypthumb"),q=i("yptextarea"),A=i("yplayout");return d(),y(A,null,{header:b(l=>[J,K]),list:b(()=>[f.value?(d(),u("div",P,[e("div",null,[e("div",Q,[e("div",R,[S,e("div",W,[a(c,{modelValue:s.category_id,"onUpdate:modelValue":t[0]||(t[0]=l=>s.category_id=l),category:s.category},null,8,["modelValue","category"])])]),s.category_id?(d(),u(x,{key:0},[e("div",X,[Y,e("div",Z,[a(E,{controller:"factory",modelValue:s.factory_id,"onUpdate:modelValue":t[1]||(t[1]=l=>s.factory_id=l),colkey:"title"},null,8,["modelValue"])])]),a(I,{cid:s.category_id,modelValue:s.sclass,"onUpdate:modelValue":t[2]||(t[2]=l=>s.sclass=l)},null,8,["cid","modelValue"]),e("div",ee,[te,e("div",se,[a(r,{modelValue:s.title,"onUpdate:modelValue":t[3]||(t[3]=l=>s.title=l),placeholder:"请输入产品信息"},null,8,["modelValue"])])]),e("div",le,[oe,e("div",ae,[(d(!0),u(x,null,w(g,(l,M)=>(d(),y(V,{title:l.title,value:l.id,modelValue:s.metal,"onUpdate:modelValue":t[4]||(t[4]=m=>s.metal=m)},null,8,["title","value","modelValue"]))),256))])]),e("div",ie,[de,e("div",ne,[(d(!0),u(x,null,w(h,(l,M)=>(d(),y(V,{title:l.title,value:l.id,modelValue:s.stone,"onUpdate:modelValue":t[5]||(t[5]=m=>s.stone=m)},null,8,["title","value","modelValue"]))),256))])]),e("div",ce,[re,e("div",ue,[a(F,{modelValue:s.thumb,"onUpdate:modelValue":t[6]||(t[6]=l=>s.thumb=l)},null,8,["modelValue"])])]),e("div",pe,[me,e("div",_e,[a(r,{modelValue:s.storeprice,"onUpdate:modelValue":t[7]||(t[7]=l=>s.storeprice=l)},null,8,["modelValue"])])]),e("div",ye,[xe,e("div",ve,[a(r,{modelValue:s.code,"onUpdate:modelValue":t[8]||(t[8]=l=>s.code=l)},null,8,["modelValue"])])]),e("div",fe,[ge,e("div",he,[a(r,{modelValue:s.label,"onUpdate:modelValue":t[9]||(t[9]=l=>s.label=l)},null,8,["modelValue"])])]),e("div",Ve,[be,e("div",we,[a(q,{modelValue:s.intro,"onUpdate:modelValue":t[10]||(t[10]=l=>s.intro=l),placeholder:"备注信息"},null,8,["modelValue"])])])],64)):k("",!0)])]),e("div",{class:"flex py-2 space-x-2 mt-5"},[ke,e("button",{class:"btn btn-chen",type:"button",onClick:O},[Ue,U(" 提交 ")]),e("button",{class:"btn",type:"button",onClick:N},[je,U(" 返回 ")])])])):k("",!0)]),_:1})}}};export{Ne as default};
