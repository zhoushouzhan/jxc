import{U as B,N as k,L as d,r as O,o as D,d as o,e as i,i as e,F as v,q as C,n as _,K as $,t as f,u as E,w as M,l as S,V as j,f as w,j as h,h as U,m as L,v as z,g as I,y as F,z as R,b as N,c as T,k as q}from"./index-ddd32adc.js";import{_ as G}from"./logo-c4b87c8b.js";const H={class:"text-sm text-hui-100 h-full flex select-none"},K={class:"bg-hui-900 h-full space-y-2"},P=e("img",{src:G,class:"w-10 object-cover"},null,-1),A=[P],J=["onClick"],Q=e("div",{class:"h-12 flex items-center justify-center text-hui-900 font-bold text-base border-b"},"泽玛珠宝",-1),W={class:"text-hui-900"},X=["onClick"],Y={__name:"index",props:{dataList:{type:Object,default:[]}},setup(p){const c=B(),n=p,a=k(()=>d.getters.openMenuId),u=k(()=>d.getters.currentMenu),t=O({pid:0,sid:0,children:[],openChild:!1}),l=s=>{t.pid=s.id,s.children?(t.children=s.children,t.sid=s.children[0].id,c.push(s.children[0].path),t.openChild=!0):(t.openChild=!1,c.push(s.path))},b=()=>{t.children.length!=0&&(t.openChild=!t.openChild)},m=s=>{s.type==2&&(t.sid=s.id,c.push(s.path))},x=()=>{n.dataList.forEach(s=>{a.value[0]==s.id&&(t.pid=s.id,s.children&&(t.children=s.children,s.children.forEach(g=>{u.value.indexOf(g.id)>=0&&(t.sid=g.id,t.openChild=!0)})))})};return D(()=>{x()}),(s,g)=>(o(),i("div",H,[e("div",K,[e("div",{class:"flex justify-center pb-2 pt-1",onClick:b},A),(o(!0),i(v,null,C(p.dataList,(r,y)=>(o(),i("div",{class:_(["w-14 py-2 text-center space-y-1 duration-300 cursor-pointer hover:bg-blue-500 hover:text-white",{"bg-blue-500 text-white":r.id==t.pid}]),key:y,onClick:$(V=>l(r),["stop"])},[e("div",null,[e("i",{class:_(["ri-xl",r.meta.icon])},null,2)]),e("div",null,f(r.title),1)],10,J))),128))]),e("div",{class:_(["overflow-hidden whitespace-nowrap duration-300 shadow-lg",{"w-36":t.openChild,"w-0":!t.openChild}])},[Q,e("div",W,[(o(!0),i(v,null,C(t.children,(r,y)=>(o(),i("div",{class:_(["h-12 flex items-center justify-center hover:bg-[#E8F4FF] hover:text-blue-600 cursor-pointer",{"bg-[#E8F4FF] text-blue-600":t.sid==r.id}]),key:y,onClick:$(V=>m(r),["stop"])},f(r.title),11,X))),128))])],2)]))}},Z={class:"relative flex flex-wrap items-center justify-between text-gray-600 text-sm"},ee={class:"container-fluid w-full flex flex-wrap items-center justify-between pl-2"},te={class:"bg-grey-light rounded-md w-full","aria-label":"breadcrumb"},se={class:"list-reset flex"},oe={key:0},ie=e("span",{class:"text-gray-600 mx-2"},"/",-1),le=[ie],ne={__name:"BreadCrumb",setup(p){const c=E(),n=O({list:[]});return n.list=c.matched,M(()=>c.matched,(a,u)=>{n.list=a}),(a,u)=>(o(),i("nav",Z,[e("div",ee,[e("nav",te,[e("ol",se,[(o(!0),i(v,null,C(n.list,(t,l)=>(o(),i(v,{key:l},[e("li",{class:_({"text-lan-300":l==n.list.length-1})},f(t.meta.title),3),l<n.list.length-1?(o(),i("li",oe,le)):S("",!0)],64))),128))])])])]))}},ce={class:"flex overflow-hidden h-full"},re={class:"h-full"},ae={class:"flex-1 flex flex-col"},de={class:"h-12 flex items-center pl-4 flex-shrink-0 space-x-2 border-b"},ue=e("div",null,[e("i",{class:"ri-home-2-line text-gray-500 text-xl"})],-1),he={class:"flex-1 flex justify-end items-center space-x-2 text-sm mr-5"},_e={class:"flex items-center space-x-5"},fe={class:"flex items-center"},pe=e("div",null,"当前用户：",-1),xe={class:"font-bold text-blue-500"},ve={class:"flex items-center"},be=e("div",null,"部门：",-1),me=e("i",{class:"ri-brush-2-fill text-xl"},null,-1),ge=[me],ye=e("i",{class:"ri-login-circle-fill text-xl"},null,-1),we=[ye],ke={class:"flex-1 bg-hui-5 bg-opacity-75 p-3 h-full overflow-auto flex flex-col"},je={__name:"home",setup(p){const c=j.path,n=async()=>{const t=await I("index/clearCache");t.code&&F({type:"alter-success",text:t.msg})},a=k(()=>d.getters.routes),u=t=>{switch(t){case"personHome":break;case"editpass":break;case"loginOut":R({text:"确定要退出吗？"}).then(()=>{d.commit("User/LOGIN_OUT"),F({type:"alter-success",text:"您已成功退出"}),j.push("/login")});break}};return(t,l)=>{const b=N("router-link"),m=N("router-view"),x=T("tooltip");return o(),i("div",ce,[e("div",re,[w(h(Y),{dataList:a.value},null,8,["dataList"])]),e("div",ae,[e("div",de,[ue,e("div",null,[w(h(ne))]),e("div",he,[e("div",_e,[e("div",fe,[pe,e("div",xe,[w(b,{to:"/my"},{default:U(()=>[q(f(h(d).state.Sys.sysinfo.admin.truename),1)]),_:1})])]),e("div",ve,[be,e("div",null,f(h(d).state.Sys.sysinfo.admin.roles[0].title),1)])]),L((o(),i("div",{class:"text-white bg-stone-900 hover:bg-blue-600 cursor-pointer w-7 h-7 rounded-full border flex items-center justify-center",onClick:l[0]||(l[0]=s=>n())},ge)),[[x,"清理缓存",void 0,{bottom:!0}]]),L((o(),i("div",{class:"text-white bg-stone-900 hover:bg-blue-600 cursor-pointer w-7 h-7 rounded-full border flex items-center justify-center",onClick:l[1]||(l[1]=s=>u("loginOut"))},we)),[[x,"安全退出",void 0,{bottom:!0}]])])]),e("div",ke,[(o(),z(m,{key:h(c)}))])])])}}};export{je as default};
