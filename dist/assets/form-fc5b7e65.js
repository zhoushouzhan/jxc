import{r as d,a as i,B as f,o as l,g as u,b as p,d as g,v,l as y,E as D,y as _}from"./index-0f467f6d.js";const k={__name:"form",props:{mod:Object,id:0},emits:["close","getList"],setup(s,{emit:E}){const e=s,t=d({}),c=i(0),n=f("category"),m=async o=>{const a=await D("/category/save",o);a.code==1&&(_({type:"alter-success",text:a.msg}),n.saveEvent())};return l(async()=>{if(e.mod.modcolumn.forEach(o=>{o.formitem!="none"&&(t[o.name]="")}),e.id){const o=await u("/category/getDetails",{id:e.id});o.code==1&&(t.id=o.data.id,e.mod.modcolumn.forEach(a=>{t[a.name]=o.data[a.name]}))}c.value=1}),(o,a)=>{const r=p("ypform");return c.value==1?(g(),v(r,{key:0,formData:t,group:s.mod.colgroup,onSave:m,mod:s.mod},null,8,["formData","group","mod"])):y("",!0)}}};export{k as default};
