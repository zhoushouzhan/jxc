import{r as n,w as l,d as f,e as w,i as e,K as g,m,R as c,n as d,t as i,E as _,M as p,g as h,y as x,Y as y,V as v}from"./index-ffc5c309.js";import{_ as b}from"./logo-c4b87c8b.js";const E={class:"w-screen h-screen bg-gray-700 flex md:items-center flex-col md:flex-row"},V=e("div",{class:"w-full md:w-1/2 h-[300px] md:h-screen bg-white flex justify-center items-center"},[e("img",{src:b,class:"w-auto select-none rounded-full animate-pulse"})],-1),U={class:"flex-1 md:h-screen flex md:items-center md:justify-center items-center flex-col"},D={class:"w-3/4 mt-20 md:mt-0"},S={class:"grid grid-cols-12"},T={class:"col-span-12"},k={class:"col-span-12"},B=e("div",{class:"col-span-12 text-center md:text-start"},[e("button",{type:"submit",class:"yp-button rounded"},"登录")],-1),M=e("div",{class:"absolute bottom-0 py-1.5 text-gray-500 text-xs hover:text-white duration-300"}," © 2023 东海县一品网络技术有限公司 All rights reserved. ",-1),A={__name:"login copy",setup(N){const t=n({username:"",password:""}),s=n({username:{classname:"form-success",message:""},password:{classname:"form-success",message:""}});l(()=>t.username,(o,a)=>{o==""?(s.username.classname="form-error",s.username.message="请输入账号"):(s.username.classname="form-success",s.username.message="")}),l(()=>t.password,(o,a)=>{o==""?(s.password.classname="form-error",s.password.message="请输入密码"):(s.password.classname="form-success",s.password.message="")});const u=async o=>{if(t.username=="")return s.username.classname="form-error",s.username.message="请输入账号",!1;if(t.password=="")return s.password.classname="form-error",s.password.message="请输入密码",!1;const a=await _("admin/login",t);if(a.code==1){p.commit("User/SET_TOKEN",a.data.token);const r=await h("index/getsite");r.code==1&&(x({type:"alter-success",text:a.msg}),p.dispatch("User/GET_USER_INFO",r.data.admin),y(),v.push("/"))}};return(o,a)=>(f(),w("div",E,[V,e("div",U,[e("div",D,[e("form",{onSubmit:g(u,["prevent"])},[e("div",S,[e("div",T,[m(e("input",{type:"text",maxlength:"18",placeholder:"请输入账号",class:"yp-input","onUpdate:modelValue":a[0]||(a[0]=r=>t.username=r)},null,512),[[c,t.username]]),e("div",{class:d(s.username.classname)},i(s.username.message),3)]),e("div",k,[m(e("input",{type:"password",maxlength:"18",placeholder:"请输入密码",class:"yp-input","onUpdate:modelValue":a[1]||(a[1]=r=>t.password=r),autocomplete:""},null,512),[[c,t.password]]),e("div",{class:d(s.password.classname)},i(s.password.message),3)]),B])],32)]),M])]))}};export{A as default};
