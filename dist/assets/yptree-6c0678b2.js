import{a as t,w as c,o as V,d as k,e as b,i as n,t as L,n as v,m as _,I as g,f as B,a4 as N,b as W}from"./index-ffc5c309.js";const C={class:"flex-1 pl-2"},D={__name:"yptree",props:{modelValue:"",itemList:Object,col:{default:[]}},emits:["update:modelValue"],setup(u,{emit:f}){const s=u,p=f,r=t(""),o=t(!1),i=t("--请选择--"),d=t(null),x=t(null),a=t(null),w=t(null),y=()=>{N(()=>{a.value.scrollWidth&&(d.value.style.width=a.value.scrollWidth+"px")})};return c(r,(e,l)=>{i.value=e.title,p("update:modelValue",e.id+""),o.value=!1}),c(()=>s.modelValue,(e,l)=>{e||(i.value="--请选择--"),a.value.scrollWidth&&(d.value.style.width=a.value.scrollWidth+"px")}),V(()=>{s.itemList&&s.itemList.forEach(e=>{e.id==s.modelValue&&(i.value=e.title)}),y()}),(e,l)=>{const h=W("ypmenu");return k(),b("div",{class:"group inline-block relative cursor-pointer w-full min-w-max",ref_key:"select",ref:x,onClick:l[1]||(l[1]=m=>o.value=!0),onMouseleave:l[2]||(l[2]=m=>o.value=!1)},[n("div",{class:"text-sm border flex items-center rounded h-8",style:{"white-space":"nowrap"},ref_key:"titleBox",ref:d},[n("div",C,L(i.value),1),n("i",{class:v(["ri-arrow-down-s-line duration-300 mr-2",{"-rotate-180":o.value}])},null,2)],512),_(n("div",{class:v(["overflow-hidden w-full max-h-0 duration-300 flex flex-col text-gray-800 bg-white rounded-sm absolute z-30 top-[31px]",{"max-h-[300px] overflow-y-auto":o.value}]),ref_key:"optionsNode",ref:a},[B(h,{modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=m=>r.value=m),dataList:u.itemList,value:u.modelValue,ref_key:"ypmenu_dom",ref:w},null,8,["modelValue","dataList","value"])],2),[[g,o.value]])],544)}}};export{D as default};
