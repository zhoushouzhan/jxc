import{r as v,a as h,o as b,g as V,b as i,d as g,e as w,i as e,f as n,k as c,E as k,y as I}from"./index-ddd32adc.js";const N={class:"text-sm text-gray-800"},U={class:"bg-white select-none p-2 space-y-3"},B={class:"flex items-center"},C=e("div",{class:"w-24 text-right pr-5"},"名称",-1),D={class:"flex-1"},j={class:"flex items-center"},E=e("div",{class:"w-24 text-right pr-5"},"描述",-1),T={class:"flex-1"},M={class:"flex items-center"},O=e("div",{class:"w-24 text-right pr-5"},"序号",-1),q={class:"flex-1"},z={class:"flex items-center"},A=e("div",{class:"w-24 text-right pr-5"},"状态",-1),F={class:"flex-1 flex items-center"},G=e("i",{class:"ri-save-line ri-lg pr-1"},null,-1),H=e("i",{class:"ri-format-clear ri-lg pr-1"},null,-1),K={__name:"form",props:{rolesId:Number},emits:["update"],setup(p,{emit:u}){const a=p,m=u,t=v({title:"",sort:"",intro:"",enabled:""}),_=h(0),f=async()=>{const o=await k("/roles/save",t);o.code&&(I({type:"alter-success",text:o.msg}),a.rolesId||setTimeout(d(),1e3),m("update"))},d=()=>{_.value=1;for(let o in t)t[o]=""};return b(async()=>{if(a.rolesId){t.id=a.rolesId;const o=await V("/roles/getroles",{id:a.rolesId});o.code==1&&Object.keys(t).map(s=>{t[s]=o.data[s]})}}),(o,s)=>{const r=i("ypinput"),x=i("yptextarea"),y=i("ypswitch");return g(),w("div",N,[e("div",U,[e("div",B,[C,e("div",D,[n(r,{modelValue:t.title,"onUpdate:modelValue":s[0]||(s[0]=l=>t.title=l),placeholder:"最多32个字符"},null,8,["modelValue"])])]),e("div",j,[E,e("div",T,[n(x,{modelValue:t.intro,"onUpdate:modelValue":s[1]||(s[1]=l=>t.intro=l),placeholder:"最多300个字符"},null,8,["modelValue"])])]),e("div",M,[O,e("div",q,[n(r,{modelValue:t.sort,"onUpdate:modelValue":s[2]||(s[2]=l=>t.sort=l),type:"number",placeholder:""},null,8,["modelValue"])])]),e("div",z,[A,e("div",F,[n(y,{modelValue:t.enabled,"onUpdate:modelValue":s[3]||(s[3]=l=>t.enabled=l)},null,8,["modelValue"])])])]),e("div",{class:"flex justify-center py-3 space-x-2"},[e("button",{class:"yp-button yp-button-orange rounded",type:"button",onClick:f},[G,c(" 保存 ")]),e("button",{class:"yp-button yp-button-gray rounded",type:"button",onClick:d},[H,c(" 重置 ")])])])}}};export{K as default};
