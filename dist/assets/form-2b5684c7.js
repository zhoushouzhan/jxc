import{a as N,r as m,o as D,g as _,b as i,d as c,v as y,h as x,i as e,f as v,e as U,F as E,q as F,k as f,l as L,E as O,y as T}from"./index-169137c2.js";const q=e("i",{class:"ri-2x text-gray-500 ml-2 ri-play-list-add-line"},null,-1),M=e("div",{class:"text-xl px-3"},"增加仓库",-1),z=e("div",{class:"flex-1 flex flex-row-reverse space-x-reverse space-x-2"},null,-1),A={class:"bg-white text-sm"},G={class:"space-y-3 p-2"},H={class:"flex items-center"},I=e("div",{class:"w-24 text-right pr-5"},"名称",-1),J={class:"flex-1"},K={class:"flex items-center"},P=e("div",{class:"w-24 text-right pr-5"},"描述",-1),Q={class:"flex-1"},R={class:"flex items-center"},S=e("div",{class:"w-24 text-right pr-5"},"仓管员",-1),W={class:"flex-1 flex space-x-2"},X=e("i",{class:"ri-save-line ri-lg pr-1"},null,-1),Y=e("i",{class:"ri-format-clear ri-lg pr-1"},null,-1),$={__name:"form",props:{id:{default:0}},emits:["jumpCom"],setup(h,{emit:b}){const d=h,r=b,l=N(!1),u=m([]),o=m({admin:[]}),g=async()=>{const s=await O("godown/save",o);s.code==1&&(T({type:"alter-success",text:s.msg}),setTimeout(()=>{r("jumpCom",{to:"list"})},1e3))},p=()=>{r("jumpCom",{to:"list"})},V=async s=>{if(!s){l.value=!0;return}let t=await _("godown/read",{id:s});t.code==1&&Object.keys(t.data).map(n=>{o[n]=t.data[n]}),l.value=!0};return D(async()=>{const s=await _("roles/getroles",{id:3});s.code==1&&Object.keys(s.data.admin).map(t=>{u[t]=s.data.admin[t]}),d.id?V(d.id):l.value=!0}),(s,t)=>{const n=i("ypinput"),k=i("yptextarea"),w=i("ypcheckbox"),C=i("yplayout");return l.value?(c(),y(C,{key:0},{header:x(()=>[q,M,z,e("button",{class:"yp-button yp-button-sm yp-button-orange rounded-sm",onClick:p},"返回")]),list:x(()=>[e("div",A,[e("div",G,[e("div",H,[I,e("div",J,[v(n,{modelValue:o.title,"onUpdate:modelValue":t[0]||(t[0]=a=>o.title=a),placeholder:"请输入名称"},null,8,["modelValue"])])]),e("div",K,[P,e("div",Q,[v(k,{modelValue:o.intro,"onUpdate:modelValue":t[1]||(t[1]=a=>o.intro=a),placeholder:"请输入描述"},null,8,["modelValue"])])]),e("div",R,[S,e("div",W,[(c(!0),U(E,null,F(u,(a,j)=>(c(),y(w,{key:j,title:a.truename,value:a.id,modelValue:o.admin,"onUpdate:modelValue":t[2]||(t[2]=B=>o.admin=B)},null,8,["title","value","modelValue"]))),128))])])]),e("div",{class:"flex justify-center py-2 space-x-2 mt-5"},[e("button",{class:"yp-button yp-button-orange rounded",type:"button",onClick:g},[X,f(" 提交 ")]),e("button",{class:"yp-button yp-button-gray rounded",type:"button",onClick:p},[Y,f(" 返回 ")])])])]),_:1})):L("",!0)}}};export{$ as default};
