import{r as n,w as d,d as m,e as f,i as e,f as c,h as p,N as _,E as w,M as u,g,y as h,Y as x,V as y,b}from"./index-0f467f6d.js";import{_ as v}from"./logo-c4b87c8b.js";const V={class:"lg:w-[500px] max-lg:w-full space-y-4 absolute left-1/2 -translate-x-1/2 top-20 bg-white p-10 bg-opacity-65 rounded-lg"},E=e("div",{class:"flex justify-center"},[e("img",{src:v,class:"h-16 object-cover"})],-1),k=e("div",{class:"text-center font-bold text-hui-300"},"泽玛珠宝",-1),N=e("div",{class:"py-2"},null,-1),U=e("div",{class:"text-hui-100 pr-1"},[e("i",{class:"ri-user-fill ri-lg"})],-1),j=e("div",{class:"text-hui-100 pr-1"},[e("i",{class:"ri-lock-fill ri-lg"})],-1),C=e("div",{class:"absolute left-0 bottom-0 w-full text-center py-2 text-sm"}," Copyright © 2022 东海县一品网络技术有限公司 ",-1),T={__name:"login",setup(B){const t=n({username:"",password:""}),a=n({username:"",password:""});d(()=>t.username,(r,s)=>{r==""?a.username="请输入账号":a.username=""}),d(()=>t.password,(r,s)=>{r==""?a.password="请输入密码":a.password=""});const i=async r=>{let s=0;if(t.username==""&&(a.username="请输入账号",s++),t.password==""&&(a.password="请输入密码",s++),s>0)return!1;const o=await w("admin/login",t);if(o.code==1){u.commit("User/SET_TOKEN",o.data.token);const l=await g("index/getsite");l.code==1&&(h({type:"alter-success",text:o.msg}),u.dispatch("User/GET_USER_INFO",l.data.admin),x(),y.push("/"))}};return(r,s)=>{const o=b("ypinput");return m(),f("div",{class:"w-full h-full flex justify-center select-none",onKeyup:_(i,["enter"])},[e("div",V,[E,k,N,c(o,{modelValue:t.username,"onUpdate:modelValue":s[0]||(s[0]=l=>t.username=l),errormsg:a.username,maxlength:"22",placeholder:"输入账号"},{prefix:p(()=>[U]),_:1},8,["modelValue","errormsg"]),c(o,{type:"password",modelValue:t.password,"onUpdate:modelValue":s[1]||(s[1]=l=>t.password=l),errormsg:a.password,maxlength:"22",placeholder:"输入密码"},{prefix:p(()=>[j]),_:1},8,["modelValue","errormsg"]),e("div",{class:"flex justify-center"},[e("button",{type:"button",class:"btn btn-lan w-full",onClick:i},"登录")])]),C],32)}}};export{T as default};
