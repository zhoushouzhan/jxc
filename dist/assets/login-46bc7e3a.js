import{r as l,w as n,d as f,e as g,i as e,m as c,R as m,n as i,t as d,E as w,M as u,g as _,y,Y as x,V as v}from"./index-ffc5c309.js";import{_ as h}from"./logo-c4b87c8b.js";const b={class:"w-full h-full flex justify-center text-hui-300 select-none"},E={class:"lg:w-80 max-lg:w-full px-2 lg:translate-y-52 max-lg:translate-y-20 space-y-2"},V=e("div",{class:"flex justify-center"},[e("img",{src:h,class:"h-16 object-cover"})],-1),U=e("div",{class:"text-center font-bold"},"泽玛珠宝",-1),j=e("div",{class:"py-2"},null,-1),B={__name:"login",setup(k){const t=l({username:"",password:""}),s=l({username:{classname:"form-success",message:""},password:{classname:"form-success",message:""}});n(()=>t.username,(o,a)=>{o==""?(s.username.classname="form-error",s.username.message="请输入账号"):(s.username.classname="form-success",s.username.message="")}),n(()=>t.password,(o,a)=>{o==""?(s.password.classname="form-error",s.password.message="请输入密码"):(s.password.classname="form-success",s.password.message="")});const p=async o=>{if(t.username=="")return s.username.classname="form-error",s.username.message="请输入账号",!1;if(t.password=="")return s.password.classname="form-error",s.password.message="请输入密码",!1;const a=await w("admin/login",t);if(a.code==1){u.commit("User/SET_TOKEN",a.data.token);const r=await _("index/getsite");r.code==1&&(y({type:"alter-success",text:a.msg}),u.dispatch("User/GET_USER_INFO",r.data.admin),x(),v.push("/"))}};return(o,a)=>(f(),g("div",b,[e("div",E,[V,U,j,e("div",null,[c(e("input",{type:"text",maxlength:"18",placeholder:"请输入账号",class:"yp-input","onUpdate:modelValue":a[0]||(a[0]=r=>t.username=r)},null,512),[[m,t.username]]),e("div",{class:i(s.username.classname)},d(s.username.message),3)]),e("div",null,[c(e("input",{type:"password",maxlength:"18",placeholder:"请输入密码",class:"yp-input","onUpdate:modelValue":a[1]||(a[1]=r=>t.password=r),autocomplete:""},null,512),[[m,t.password]]),e("div",{class:i(s.password.classname)},d(s.password.message),3)]),e("div",{class:"flex justify-center"},[e("button",{type:"button",class:"yp-button rounded w-full text-center",onClick:p},"登录")])])]))}};export{B as default};
