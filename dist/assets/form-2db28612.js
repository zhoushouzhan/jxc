import{a as L,r as _,o as M,b as d,d as i,v as y,h as b,e as u,i as e,f as a,j as z,F as x,q as w,l as k,k as U,g as v,E as G,y as H}from"./index-0f467f6d.js";import I from"./linkage-17e0cbb5.js";import J from"./sclass-379fe477.js";const K=e("div",{class:"flex items-center"},[e("i",{class:"ri-2x text-gray-500 ml-2 ri-product-hunt-line"}),e("div",{class:"text-xl px-2"},"录入商品"),e("div",{class:"text-gray-400"})],-1),P=e("div",{class:"flex-1"},null,-1),Q={key:0,class:"bg-white text-sm"},R={class:"space-y-7 p-2"},S={class:"flex items-center"},W=e("div",{class:"w-24 text-right pr-5"},"选择栏目",-1),X={class:"flex-1"},Y={class:"flex items-center"},Z=e("div",{class:"w-24 text-right pr-5"},"厂商",-1),ee={class:"flex-1"},te={class:"flex items-center"},se=e("div",{class:"w-24 text-right pr-5"},"商品名称",-1),le={class:"flex-1"},oe={class:"flex items-center"},ae=e("div",{class:"w-24 text-right pr-5"},"贵重金属",-1),ie={class:"grid grid-cols-10 gap-5"},de={class:"flex"},ne=e("div",{class:"w-24 text-right pr-5"},"镶嵌宝石",-1),ce={class:"grid grid-cols-10 gap-5"},re={class:"flex items-center"},ue=e("div",{class:"w-24 text-right pr-5"},"商品图片",-1),me={class:"flex-1"},pe={class:"flex items-center"},_e=e("div",{class:"w-24 text-right pr-5"},"零售价格",-1),ye={class:"flex-1"},xe={class:"flex items-center"},ve=e("div",{class:"w-24 text-right pr-5"},"商品编码",-1),fe={class:"flex-1"},he={class:"flex items-center"},ge=e("div",{class:"w-24 text-right pr-5"},"商品标签",-1),Ve={class:"flex-1"},be={class:"flex items-center"},we=e("div",{class:"w-24 text-right pr-5"},"备注",-1),ke={class:"flex-1"},Ue=e("div",{class:"w-24"},null,-1),je=e("i",{class:"ri-save-line ri-lg pr-1"},null,-1),Be=e("i",{class:"ri-arrow-go-back-line ri-lg pr-1"},null,-1),Oe={__name:"form",props:{id:{default:0}},emits:["jumpTo"],setup(j,{emit:B}){const m=j,C=B,f=L(!1),h=_([]),g=_([]),n=new Audio,s=_({id:0,title:"",category_id:0,metal:[],stone:[],thumb:0,storeprice:0,code:"",label:"",intro:"",category:""}),N=()=>{C("jumpTo",{to:"list"})},D=async()=>{const o=await v("/classify/index",{pid:3427});o.code==1&&Object.keys(o.data).map(t=>{h[t]=o.data[t]})},O=async()=>{const o=await v("/classify/index",{pid:3428});o.code==1&&Object.keys(o.data).map(t=>{g[t]=o.data[t]})},T=async()=>{if(s.category_id==0){n.src="/error.mp3",await n.play(),alert("必须选择栏目22");return}const o=await G("goods/save",s);if(o.code==1){n.src="/success.mp3",await n.play(),H({type:"alter-success",text:o.msg});for(let t in s)delete s[t]}},E=async o=>{if(!o)return;let t=await v("goods/details",{id:o});t.code==1&&Object.keys(t.data).map(c=>{s[c]=t.data[c]})};return M(async()=>{D(),O(),s.id=m.id,m.id&&await E(m.id),f.value=!0}),(o,t)=>{const c=d("yplist"),r=d("ypinput"),V=d("ypcheckbox"),F=d("ypthumb"),$=d("yptextarea"),q=d("yplayout");return i(),y(q,null,{header:b(l=>[K,P]),list:b(()=>[f.value?(i(),u("div",Q,[e("div",null,[e("div",R,[e("div",S,[W,e("div",X,[a(z(I),{modelValue:s.category_id,"onUpdate:modelValue":t[0]||(t[0]=l=>s.category_id=l),category:s.category},null,8,["modelValue","category"])])]),s.category_id?(i(),u(x,{key:0},[e("div",Y,[Z,e("div",ee,[a(c,{controller:"factory",modelValue:s.factory_id,"onUpdate:modelValue":t[1]||(t[1]=l=>s.factory_id=l),colkey:"title"},null,8,["modelValue"])])]),a(J,{cid:s.category_id,modelValue:s.sclass,"onUpdate:modelValue":t[2]||(t[2]=l=>s.sclass=l)},null,8,["cid","modelValue"]),e("div",te,[se,e("div",le,[a(r,{modelValue:s.title,"onUpdate:modelValue":t[3]||(t[3]=l=>s.title=l),placeholder:"请输入产品信息"},null,8,["modelValue"])])]),e("div",oe,[ae,e("div",ie,[(i(!0),u(x,null,w(h,(l,A)=>(i(),y(V,{title:l.title,value:l.id,modelValue:s.metal,"onUpdate:modelValue":t[4]||(t[4]=p=>s.metal=p)},null,8,["title","value","modelValue"]))),256))])]),e("div",de,[ne,e("div",ce,[(i(!0),u(x,null,w(g,(l,A)=>(i(),y(V,{title:l.title,value:l.id,modelValue:s.stone,"onUpdate:modelValue":t[5]||(t[5]=p=>s.stone=p)},null,8,["title","value","modelValue"]))),256))])]),e("div",re,[ue,e("div",me,[a(F,{modelValue:s.thumb,"onUpdate:modelValue":t[6]||(t[6]=l=>s.thumb=l)},null,8,["modelValue"])])]),e("div",pe,[_e,e("div",ye,[a(r,{modelValue:s.storeprice,"onUpdate:modelValue":t[7]||(t[7]=l=>s.storeprice=l)},null,8,["modelValue"])])]),e("div",xe,[ve,e("div",fe,[a(r,{modelValue:s.code,"onUpdate:modelValue":t[8]||(t[8]=l=>s.code=l)},null,8,["modelValue"])])]),e("div",he,[ge,e("div",Ve,[a(r,{modelValue:s.label,"onUpdate:modelValue":t[9]||(t[9]=l=>s.label=l)},null,8,["modelValue"])])]),e("div",be,[we,e("div",ke,[a($,{modelValue:s.intro,"onUpdate:modelValue":t[10]||(t[10]=l=>s.intro=l),placeholder:"备注信息"},null,8,["modelValue"])])])],64)):k("",!0)])]),e("div",{class:"flex py-2 space-x-2 mt-5"},[Ue,e("button",{class:"btn btn-chen",type:"button",onClick:T},[je,U(" 提交 ")]),e("button",{class:"btn",type:"button",onClick:N},[Be,U(" 返回 ")])])])):k("",!0)]),_:1})}}};export{Oe as default};
